<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  
    <title>Event Bus - Hyperledger FireFly Docs</title>

    
  

  <link rel="shortcut icon" href="/firefly/head/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/firefly/head/assets/css/just-the-docs-default.css">

  

  
    <script type="text/javascript" src="/firefly/head/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/firefly/head/assets/js/just-the-docs.js"></script>

  <script type="text/javascript" src="/firefly/assets/js/versions.js" data-proofer-ignore></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Event Bus | Hyperledger FireFly Docs</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Event Bus" />
<meta property="og:locale" content="en" />
<meta name="description" content="Hyperledger FireFly is the first open source Supernode: a complete stack for enterprises to build and scale secure Web3 applications. The FireFly API for digital assets, data flows, and blockchain transactions makes it radically faster to build production-ready apps on popular chains and protocols." />
<meta property="og:description" content="Hyperledger FireFly is the first open source Supernode: a complete stack for enterprises to build and scale secure Web3 applications. The FireFly API for digital assets, data flows, and blockchain transactions makes it radically faster to build production-ready apps on popular chains and protocols." />
<meta property="og:site_name" content="Hyperledger FireFly Docs" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Event Bus" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Hyperledger FireFly is the first open source Supernode: a complete stack for enterprises to build and scale secure Web3 applications. The FireFly API for digital assets, data flows, and blockchain transactions makes it radically faster to build production-ready apps on popular chains and protocols.","headline":"Event Bus","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/firefly/head/images/hyperledger-firefly_color.svg"}},"url":"/firefly/head/reference/events.html"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="/firefly/head/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list"><li class="nav-list-item"><a href="/firefly/head/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/overview/" class="nav-list-link">Understanding FireFly</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/overview/supernode_concept.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item "><a href="/firefly/head/overview/usage_patterns.html" class="nav-list-link">Usage Patterns</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/overview/key_features.html" class="nav-list-link">Key Features</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/apps.html" class="nav-list-link">Apps</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/digital_assets.html" class="nav-list-link">Digital Assets</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/connectors.html" class="nav-list-link">Connector Framework</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/orchestration_engine.html" class="nav-list-link">Orchestration Engine</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/flows.html" class="nav-list-link">Flows</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/security.html" class="nav-list-link">Security</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/tools.html" class="nav-list-link">Tools</a>
                  </li></ul></li><li class="nav-list-item "><a href="/firefly/head/overview/gateway_features.html" class="nav-list-link">Web3 Gateway Features</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/overview/multiparty_features.html" class="nav-list-link">Multiparty Features</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/overview/multiparty/multiparty_flow.html" class="nav-list-link">Multiparty Process Flow</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/multiparty/data_exchange.html" class="nav-list-link">Private Data Exchange</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/multiparty/broadcast.html" class="nav-list-link">Broadcast Data</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/multiparty/deterministic.html" class="nav-list-link">Deterministic Compute</a>
                  </li></ul></li><li class="nav-list-item "><a href="/firefly/head/overview/public_vs_permissioned.html" class="nav-list-link">Public and Permissioned</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/gettingstarted/" class="nav-list-link">Getting Started</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/gettingstarted/firefly_cli.html" class="nav-list-link">① Install the FireFly CLI</a></li><li class="nav-list-item "><a href="/firefly/head/gettingstarted/setup_env.html" class="nav-list-link">② Start your environment</a></li><li class="nav-list-item "><a href="/firefly/head/gettingstarted/sandbox.html" class="nav-list-link">③ Use the Sandbox</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/tutorials/" class="nav-list-link">Tutorials</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/tutorials/broadcast_data.html" class="nav-list-link">Broadcast Data</a></li><li class="nav-list-item "><a href="/firefly/head/tutorials/private_send.html" class="nav-list-link">Privately send data</a></li><li class="nav-list-item "><a href="/firefly/head/tutorials/define_datatype.html" class="nav-list-link">Define a datatype</a></li><li class="nav-list-item "><a href="/firefly/head/tutorials/events.html" class="nav-list-link">Listen for events</a></li><li class="nav-list-item "><a href="/firefly/head/tutorials/query_messages.html" class="nav-list-link">Explore messages</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/tutorials/tokens/" class="nav-list-link">Use tokens</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/tokens/erc20.html" class="nav-list-link">ERC-20</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/tokens/erc721.html" class="nav-list-link">ERC-721</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/tokens/erc1155.html" class="nav-list-link">ERC-1155</a>
                  </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/tutorials/custom_contracts/" class="nav-list-link">Work with custom smart contracts</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/custom_contracts/ethereum.html" class="nav-list-link">Ethereum</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/custom_contracts/fabric.html" class="nav-list-link">Fabric</a>
                  </li></ul></li><li class="nav-list-item "><a href="/firefly/head/tutorials/create_custom_identity.html" class="nav-list-link">Create a Custom Identity</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/tutorials/chains/" class="nav-list-link">Connecting to remote blockchains</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/polygon_testnet.html" class="nav-list-link">Polygon Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/binance_smart_chain.html" class="nav-list-link">Binance Smartchain Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/avalanche.html" class="nav-list-link">Avalanche Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/arbitrum.html" class="nav-list-link">Arbitrum Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/optimism.html" class="nav-list-link">Optimism Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/fabric_test_network.html" class="nav-list-link">Fabric-Samples Test Network</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/moonbeam.html" class="nav-list-link">Moonbeam Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/zksync_testnet.html" class="nav-list-link">zkSync Testnet</a>
                  </li></ul></li><li class="nav-list-item "><a href="/firefly/head/tutorials/basic_auth.html" class="nav-list-link">Enable Basic Auth</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/reference/" class="nav-list-link">Reference</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/reference/types/" class="nav-list-link">Core Resources</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/simpletypes.html" class="nav-list-link">Simple Types</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/event.html" class="nav-list-link">Event</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/subscription.html" class="nav-list-link">Subscription</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/contractapi.html" class="nav-list-link">ContractAPI</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/blockchainevent.html" class="nav-list-link">BlockchainEvent</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/transaction.html" class="nav-list-link">Transaction</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/operation.html" class="nav-list-link">Operation</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/operationwithdetail.html" class="nav-list-link">OperationWithDetail</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/ffi.html" class="nav-list-link">FFI</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/contractlistener.html" class="nav-list-link">ContractListener</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/tokenpool.html" class="nav-list-link">TokenPool</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/tokentransfer.html" class="nav-list-link">TokenTransfer</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/tokenapproval.html" class="nav-list-link">TokenApproval</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/identity.html" class="nav-list-link">Identity</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/verifier.html" class="nav-list-link">Verifier</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/message.html" class="nav-list-link">Message</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/data.html" class="nav-list-link">Data</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/datatype.html" class="nav-list-link">Datatype</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/group.html" class="nav-list-link">Group</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/nextpin.html" class="nav-list-link">NextPin</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/batch.html" class="nav-list-link">Batch</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/namespace.html" class="nav-list-link">Namespace</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/wsstart.html" class="nav-list-link">WSStart</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/wsack.html" class="nav-list-link">WSAck</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/wserror.html" class="nav-list-link">WSError</a>
                  </li></ul></li><li class="nav-list-item "><a href="/firefly/head/reference/config.html" class="nav-list-link">Configuration Reference</a></li><li class="nav-list-item "><a href="/firefly/head/reference/api_query_syntax.html" class="nav-list-link">API Query Syntax</a></li><li class="nav-list-item "><a href="/firefly/head/reference/api_post_syntax.html" class="nav-list-link">API Post Syntax</a></li><li class="nav-list-item "><a href="/firefly/head/reference/blockchain_operation_status.html" class="nav-list-link">Blockchain Operation Status</a></li><li class="nav-list-item  active"><a href="/firefly/head/reference/events.html" class="nav-list-link active">Event Bus</a></li><li class="nav-list-item "><a href="/firefly/head/reference/identities.html" class="nav-list-link">Identities</a></li><li class="nav-list-item "><a href="/firefly/head/reference/firefly_interface_format.html" class="nav-list-link">FireFly Interface Format</a></li><li class="nav-list-item "><a href="/firefly/head/reference/namespaces.html" class="nav-list-link">Namespaces</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/reference/microservices/" class="nav-list-link">Microservices</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/reference/microservices/fftokens.html" class="nav-list-link">fftokens</a>
                  </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/architecture/" class="nav-list-link">Architecture</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/architecture/node_component_architecture.html" class="nav-list-link">Node Component Architecture</a></li><li class="nav-list-item "><a href="/firefly/head/architecture/blockchain_connector_framework.html" class="nav-list-link">Blockchain Connector Toolkit</a></li><li class="nav-list-item "><a href="/firefly/head/architecture/multiparty_event_sequencing.html" class="nav-list-link">Multiparty Event Sequencing</a></li><li class="nav-list-item "><a href="/firefly/head/architecture/plugin_architecture.html" class="nav-list-link">Plugin Architecture</a></li><li class="nav-list-item "><a href="/firefly/head/architecture/ping_pong_txflow.html" class="nav-list-link">Example Transaction Flow</a></li><li class="nav-list-item "><a href="/firefly/head/architecture/internal_event_sequencing.html" class="nav-list-link">Internal Event Sequencing</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/contributors/" class="nav-list-link">Contributors</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/contributors/code_overview.html" class="nav-list-link">FireFly Code Overview</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/code_hierarchy.html" class="nav-list-link">FireFly Code Hierarchy</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/code_repositories.html" class="nav-list-link">Code Repositories</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/dev_environment_setup.html" class="nav-list-link">Setting up a FireFly Core Development Environment</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/advanced_cli_usage.html" class="nav-list-link">Advanced CLI Usage</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/docs_setup.html" class="nav-list-link">Contributing to Documentation</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/version_scheme.html" class="nav-list-link">Versioning Scheme</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/release_guide.html" class="nav-list-link">Release Guide</a></li></ul></li><li class="nav-list-item"><a href="/firefly/head/swagger/swagger.html" class="nav-list-link">API Spec</a></li><li class="nav-list-item"><a href="/firefly/head/faqs/" class="nav-list-link">FAQs</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/releasenotes/" class="nav-list-link">Release Notes</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/releasenotes/1.2_migration_guide.html" class="nav-list-link">v1.2.0 Migration Guide</a></li><li class="nav-list-item "><a href="/firefly/head/releasenotes/1.1_migration_guide.html" class="nav-list-link">v1.1.0 Migration Guide</a></li></ul></li></ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Hyperledger FireFly Docs" aria-label="Search Hyperledger FireFly Docs" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="https://github.com/hyperledger/firefly" class="site-button"
                  
                >
                  GitHub
                </a>
              </li>
            
              <li class="aux-nav-list-item">
                <a href="https://wiki.hyperledger.org/display/FIR" class="site-button"
                  
                >
                  Wiki
                </a>
              </li>
            
              <li class="aux-nav-list-item">
                <a href="https://discord.gg/hyperledger" class="site-button"
                  
                >
                  Discord
                </a>
              </li>
            
            <li class="aux-nav-list-item">
              <span class="dropdown">
                <a class="site-button">English
                </a>
                <div class="dropdown-content"></div>
              </span>
            </li>
            <li class="aux-nav-list-item">
              <span class="dropdown">
                <a class="site-button">
                  Version: head
                </a>
                <div class="dropdown-content" id="versionDropdown">
                </div>
              </span>
            </li>
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list">
              
              
              
                <li class="breadcrumb-nav-list-item"><a href="/firefly/head/reference/">Reference</a></li>
              
              <li class="breadcrumb-nav-list-item"><span>Event Bus</span></li>
            </ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">
        
          <h1 class="no_toc" id="event-bus">
        
        
          <a href="#event-bus" class="anchor-heading" aria-labelledby="event-bus"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Event Bus
        
        
      </h1>
    
      <h2 class="no_toc text-delta" id="table-of-contents">
        
        
          <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents
        
        
      </h2>
    

<ol id="markdown-toc">
  <li><a href="#hyperledger-firefly-event-bus" id="markdown-toc-hyperledger-firefly-event-bus">Hyperledger FireFly Event Bus</a></li>
  <li><a href="#event-driven-application-architecture" id="markdown-toc-event-driven-application-architecture">Event-Driven Application Architecture</a></li>
  <li><a href="#decentralized-event-processing" id="markdown-toc-decentralized-event-processing">Decentralized Event Processing</a>    <ol>
      <li><a href="#example-1-a-fungible-token-balance-transfer" id="markdown-toc-example-1-a-fungible-token-balance-transfer">Example 1: A fungible token balance transfer</a></li>
      <li><a href="#example-2-a-step-in-a-multi-party-business-process" id="markdown-toc-example-2-a-step-in-a-multi-party-business-process">Example 2: A step in a multi-party business process</a></li>
    </ol>
  </li>
  <li><a href="#privacy-groups-and-late-join" id="markdown-toc-privacy-groups-and-late-join">Privacy groups and late join</a></li>
  <li><a href="#event-types" id="markdown-toc-event-types">Event Types</a>    <ol>
      <li><a href="#blockchain-events" id="markdown-toc-blockchain-events">Blockchain events</a></li>
      <li><a href="#token-events" id="markdown-toc-token-events">Token events</a></li>
    </ol>
  </li>
  <li><a href="#message-events-on-chain--off-chain-coordinated" id="markdown-toc-message-events-on-chain--off-chain-coordinated">Message events: on-chain / off-chain coordinated</a></li>
  <li><a href="#transaction-submission-events" id="markdown-toc-transaction-submission-events">Transaction submission events</a></li>
</ol><hr />

<p><a href="../images/firefly_event_bus.jpg"><img src="/firefly/head/images/firefly_event_bus.jpg" alt="FireFly Event Bus" /></a></p>
      <h2 id="hyperledger-firefly-event-bus">
        
        
          <a href="#hyperledger-firefly-event-bus" class="anchor-heading" aria-labelledby="hyperledger-firefly-event-bus"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hyperledger FireFly Event Bus
        
        
      </h2>
    

<p>The FireFly event bus provides your application with a single stream of events
from all of the back-end services that plug into FireFly.</p>

<p>Applications subscribe to these events using developer friendly protocols
like WebSockets, and Webhooks. Additional transports and messaging systems
like NATS, Kafka, and JMS Servers can be connected through plugins.</p>

<p>Each application creates one or more <a href="/firefly/head/reference/types/subscription.html">Subscriptions</a>
to identify itself.
In this subscription the application can choose to receive all events that
are emitted within a <code class="language-plaintext highlighter-rouge">namespace</code>, or can use server-side filtering to
only receive a sub-set of events.</p>

<p>The event bus reliably keeps track of which events have been delivered to which
applications, via an <code class="language-plaintext highlighter-rouge">offset</code> into the main event stream that is updated
each time an application acknowledges receipt of events over its subscription.</p>
      <h2 id="event-driven-application-architecture">
        
        
          <a href="#event-driven-application-architecture" class="anchor-heading" aria-labelledby="event-driven-application-architecture"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Event-Driven Application Architecture
        
        
      </h2>
    

<p>Decentralized applications are built around a source of truth that is
shared between multiple parties. No one party can change the state
unilaterally, as their changes need to be processed in order with
the other changes in the system. Each party processes requests to change
shared state in the same order, against a common set of rules for what
is allowed at that exact point in the processing.
As a result everybody deterministically ends up
with the same state at the end of the processing.</p>

<p>This requires an <strong>event-driven programming</strong> model.</p>

<p>You will find an event-driven model at the core of every blockchain
Smart Contract technology.</p>

<p>This event-driven approach is unavoidable regardless of how much of
your business data &amp; logic can be directly stored/processed
on-chain, vs. off-chain.</p>

<p>So Hyperledger FireFly aims to provide you with the tools to easily
manage this model throughout your decentralized application stack.</p>

<p><a href="../images/event_driven_programming_model.jpg"><img src="/firefly/head/images/event_driven_programming_model.jpg" alt="Event Driven Programming Model" /></a></p>

<p>Your back-end application should be structured for this event-driven
paradigm, with an <strong>Event Handler</strong> constantly listening for events,
applying a consistent <strong>State Machine</strong> to those events and
applying the changes to your <strong>Application Database</strong>.</p>

<blockquote>
  <p>FireFly comes with a built in event processor for Token transfers &amp;
approvals, that implements this pattern to maintain balances, and
transaction history in a rich query off-chain data cache.</p>
</blockquote>
      <h2 id="decentralized-event-processing">
        
        
          <a href="#decentralized-event-processing" class="anchor-heading" aria-labelledby="decentralized-event-processing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Decentralized Event Processing
        
        
      </h2>
    

<p>In a decentralized system, you need to consider that each organization
runs its own applications, and has its own private database.</p>

<p>At any given point in time different organizations will have slightly
different views of what the most up to date information is - even for
the blockchain state.</p>

<p>As well as the agreed business logic, there will be private data
and core system integration that are needed to process events as they
happen. Some of this data might be received privately from other
parties, over a secure communications channel (not the blockchain).</p>

<p><a href="../images/firefly_event_model.jpg"><img src="/firefly/head/images/firefly_event_model.jpg" alt="FireFly Event Model" /></a></p>

<p>The system must be <strong>eventually consistent</strong> across all parties for any business
data/decision that those parties need to agree on. This happens by all parties
processing the same events in the same order, and by applying the same business
logic (for the parts of the business logic that are agreed).</p>

<p>This means that when processing an event, a participant must have access to enough
historical data/state to reach the same conclusion as everyone else.</p>

<p>Let’s look at a couple of examples.</p>
      <h3 id="example-1-a-fungible-token-balance-transfer">
        
        
          <a href="#example-1-a-fungible-token-balance-transfer" class="anchor-heading" aria-labelledby="example-1-a-fungible-token-balance-transfer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example 1: A fungible token balance transfer
        
        
      </h3>
    

<p>You need to be able to verify the complete lineage of the tokens being spent,
in order to know that they cannot be double spent anywhere in the network.</p>

<p>This means the transaction must be backed by a blockchain verifiable by all participants
on the network that could hold balances of that token.</p>

<p>You might be able to use advanced cryptography (such as zero-knowledge proofs)
to mask the participants in the trade, but the transaction themselves must be verifiable
to everyone in a global sequence that prevents double spending.</p>
      <h3 id="example-2-a-step-in-a-multi-party-business-process">
        
        
          <a href="#example-2-a-step-in-a-multi-party-business-process" class="anchor-heading" aria-labelledby="example-2-a-step-in-a-multi-party-business-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example 2: A step in a multi-party business process
        
        
      </h3>
    

<p>Here it is likely you want to restrict visibility of the data to just the parties directly
involved in the business process.</p>

<p>To come to a common agreement on outcome, the parties must know they are
processing the same data in the same order. So at minimum a proof (a hash of the data) needs to
“pinned” to a blockchain ledger visible to all participants involved in the process.</p>

<p>You can then choose to put more processing on the blockchain, to enforce some critical
rules in the business state machine that must be executed fairly to prevent one
party from cheating the system. Such as that the highest bid is chosen in a competitive
bidding process, or a minimum set of parties have voted agreement before a
transaction is finalized.</p>

<p>Other steps in the process might include human decision making, private data from the core
systems of one member, or proprietary business logic that one member is not willing to share.
These steps are “non-deterministic” - you cannot predict the outcome, nor be guaranteed
to reproduce the same outcome with the same inputs in the future.</p>

<p>The FireFly event bus is designed to make triggering these non-deterministic steps
easy, while still allowing them to be part of the overall state machine of the
business process. You need to take care that the system is designed so parties cannot
cheat, and must follow the rules. How much of that rule enforcement
needs to be executed on-chain vs. off-chain (backed by a deterministic order
through the blockchain) is different for each use case.</p>

<blockquote>
  <p>Remember that tokens provide a great set of building blocks for on-chain steps in
your decentralized applications. Enterprise NFTs allow generation of a globally
unique ID, and track ownership. Fungible tokens allow value transfer, and can be
extended with smart contracts that to lock/unlock funds in “digital escrow”
while complex off-chain agreement happens.</p>
</blockquote>
      <h2 id="privacy-groups-and-late-join">
        
        
          <a href="#privacy-groups-and-late-join" class="anchor-heading" aria-labelledby="privacy-groups-and-late-join"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Privacy groups and late join
        
        
      </h2>
    

<p>If a new participant needs to join into a business transaction that has already
started, they must first “catch up” with the current state before they can play
their part. In a real-world scenario they might not be allowed to see all the
data that’s visible to the other parties, so it is common to create a new stream
of communications that includes all of the existing parties, plus the new party,
to continue the process.</p>

<p>If you use the same blockchain to back both groups, then you can safely order business
process steps that involve different parties across these overlapping groups of
participants.</p>

<blockquote>
  <p>Using a single Ethereum permissioned side-chain for example.</p>
</blockquote>

<p>Alternatively, you can create dedicated distributed ledgers (DLTs) for communication
between these groups of participants. This can allow more logic and data to go
on-chain directly, although you still must consider the fact that this data is
immutable and can never be deleted.</p>

<blockquote>
  <p>Using Hyperledger Fabric channels for example.</p>
</blockquote>

<p>On top of either type of ledger, FireFly provides a private <a href="./types/group">Group</a>
construct to facilitate secure off-chain data exchanges, and to efficiently
pin these communications to the blockchain in batches.</p>

<p>These private data exchanges can also be coordinated with most sophisticated
on-chain transactions, such as token transfers.</p>
      <h2 id="event-types">
        
        
          <a href="#event-types" class="anchor-heading" aria-labelledby="event-types"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Event Types
        
        
      </h2>
    

<p>FireFly provides a number of different types of events to your application,
designed to allow you to build your application <em>state machine</em> quickly
and reliably.</p>

<p>All events in FireFly share a common base structure, regardless of their type.
They are then linked (via a <code class="language-plaintext highlighter-rouge">reference</code>) to an object that contains detailed
information.</p>

<p>The categories of event your application can receive are as follows:</p>

<blockquote>
  <p>See the <a href="./types/event">Core Resources/Event</a> page for a full list of event types,
and more details on the data you can expect for each type.</p>
</blockquote>
      <h3 id="blockchain-events">
        
        
          <a href="#blockchain-events" class="anchor-heading" aria-labelledby="blockchain-events"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Blockchain events
        
        
      </h3>
    

<p>FireFly allows your application to subscribe to any event from a blockchain
smart contract.</p>

<p>In order for applications connected to the FireFly API to receive blockchain events
from a smart contracts, a <a href="./types/contractlistener">ContractListener</a> fist must be created to instruct
FireFly to listen to those events from the blockchain (via the blockchain plugin).</p>

<p>Once you have configured the blockchain event listener, every event detected
from the blockchain will result in a FireFly event delivered to your application
of type <code class="language-plaintext highlighter-rouge">blockchain_event_received</code>.</p>

<p>Check out the <a href="/firefly/head/tutorials/custom_contracts/">Custom Contracts Tutorial</a> for
a walk-through of how to set up listeners for the events from your smart contracts.</p>

<p>FireFly automatically establishes listeners for some blockchain events:</p>

<ul>
  <li>
    <p>Events from the FireFly <code class="language-plaintext highlighter-rouge">BatchPin</code> contract that is used to pin identities,
off-chain data broadcast and private messaging to the blockchain.</p>
  </li>
  <li>
    <p>Events from Token contracts, for which a <a href="/firefly/head/reference/types/tokenpool.html">Token Pool</a>
has been configured. These events are detected indirectly via the token connector.</p>
  </li>
</ul>
      <h3 id="token-events">
        
        
          <a href="#token-events" class="anchor-heading" aria-labelledby="token-events"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Token events
        
        
      </h3>
    

<p>FireFly provides a Wallet API, that is pluggable to multiple token implementations
without needing to change your app.</p>

<p>The pluggable API/Event interface allows all kinds of technical implementations
of tokens to be fitted into a common framework.</p>

<p>The following wallet operations are supported. These are universal to all
token implementations - NFTs and fungible tokens alike:</p>

<ul>
  <li>Mint</li>
  <li>Burn</li>
  <li>Transfer</li>
  <li>Approve</li>
</ul>

<p>FireFly processes, indexes and stores the events associated with these actions,
for any <a href="./types/tokenpool">Token Pool</a> that has been configured on the FireFly node.</p>

<p>See <a href="./types/tokentransfer">Token Transfer</a> and <a href="./types/tokenapproval">Token Approval</a>
for more information on the individual operations.</p>

<p>The token connector is responsible for mapping from the raw Blockchain Events, to the
FireFly model for tokens. Reference token connector implementations are provided for
common interface standards implemented by tokens - like ERC-20, ERC-721 and ERC-115.</p>

<p>A particular token contract might have many additional features that
are unique to that contract, particularly around governance. For these you
would use the Smart Contract features of FireFly to interact with the blockchain
API and Events directly.</p>
      <h2 id="message-events-on-chain--off-chain-coordinated">
        
        
          <a href="#message-events-on-chain--off-chain-coordinated" class="anchor-heading" aria-labelledby="message-events-on-chain--off-chain-coordinated"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Message events: on-chain / off-chain coordinated
        
        
      </h2>
    

<p>Event aggregation between data arriving off-chain, and the associated ordered
proof/transaction events being confirmed on-chain, is a complex orchestration task.</p>

<p>The universal order and additional transaction logic <strong>on-chain must be the
source of truth</strong> for when and how an event is processed.</p>

<p>However, that event cannot be processed until the off-chain private/broadcast data
associated with that event is also available and verified against the on-chain hash
of that additional data.</p>

<p>They might arrive in any order, and no further events can be processed on that business
transaction until the data is available.</p>

<p>Multiple parties might be emitting events as part of the business transaction, and
the outcome will only be assured to be the same by all parties if they process these
events in the same order.</p>

<p>Hyperledger FireFly handles this for you. Events related to a message
are not emitted until both the on-chain and off-chain parts (including large binary
attachments) are available+verified in your local FireFly node, <em>and</em> all previous
messages on the same <code class="language-plaintext highlighter-rouge">topic</code> have been processed successfully by your application.</p>

<p>Your application just needs to:</p>
<ol>
  <li>Choose a suitable <code class="language-plaintext highlighter-rouge">topic</code> for your messages that determines the ordered stream
it is part of. Such as a business transaction identifier.</li>
  <li>Make sure the application does not acknowledge a message, until it has finished
processing it.</li>
</ol>

<blockquote>
  <p>See <a href="./types/message">Message</a> for more information</p>
</blockquote>
      <h2 id="transaction-submission-events">
        
        
          <a href="#transaction-submission-events" class="anchor-heading" aria-labelledby="transaction-submission-events"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Transaction submission events
        
        
      </h2>
    

<p>These events are emitted each time a new transaction is initiated via the Firefly API.</p>

<p>These events are only emitted on the local FireFly node that initiates an activity.</p>

<p>For more information about FireFly Transactions, and how they relate to blockchain
transactions, see <a href="./types/transaction">Transaction</a>.</p>

        

        

        
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    
  </div>
  <script>
    getVersions("en")
  </script>
</body>
</html>
